# Animation Editor Standalone Window - Visual Architecture

## Before and After Comparison

### BEFORE (ImGui Overlay)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Main Game Window (SDL3)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚       Main ImGui Context                  â”‚  â”‚
â”‚  â”‚                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚   Blueprint Editor (F2)             â”‚ â”‚  â”‚
â”‚  â”‚  â”‚   - Node Editor                     â”‚ â”‚  â”‚
â”‚  â”‚  â”‚   - Properties Panel                â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚   Animation Editor (F9) âŒ OVERLAY â”‚ â”‚  â”‚
â”‚  â”‚  â”‚   - Bank List                       â”‚ â”‚  â”‚
â”‚  â”‚  â”‚   - Spritesheet Editor              â”‚ â”‚  â”‚
â”‚  â”‚  â”‚   - Preview                         â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                           â”‚  â”‚
â”‚  â”‚  Game Viewport / Panels                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Problems:
âŒ Animation Editor shares viewport with game
âŒ Cannot move to second monitor
âŒ Cluttered UI with overlapping panels
âŒ Limited screen space for editing
```

### AFTER (Standalone Window)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Main Game Window (SDL3)       â”‚  â”‚  Animation Editor Window (SDL3)  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Main ImGui Context       â”‚  â”‚  â”‚  â”‚  Separate ImGui Context    â”‚  â”‚
â”‚  â”‚                           â”‚  â”‚  â”‚  â”‚                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ Blueprint Editor    â”‚  â”‚  â”‚  â”‚  â”‚  â”‚ Menu Bar             â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ (F2)                â”‚  â”‚  â”‚  â”‚  â”‚  â”‚ File | Edit | View   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚                     â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚  â”‚ - Node Editor       â”‚  â”‚  â”‚  â”‚  â”‚                            â”‚  â”‚
â”‚  â”‚  â”‚ - Properties        â”‚  â”‚  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚  â”‚  â”‚Bankâ”‚Sprite   â”‚Preview â”‚ â”‚  â”‚
â”‚  â”‚                           â”‚  â”‚  â”‚  â”‚  â”‚Listâ”‚sheet    â”‚        â”‚ â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚  â”‚  â”‚    â”‚Editor   â”‚        â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Game Viewport       â”‚  â”‚  â”‚  â”‚  â”‚  â”‚ [] â”‚         â”‚  â–¶ï¸ â¸ï¸  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚                     â”‚  â”‚  â”‚  â”‚  â”‚  â”‚ [] â”‚ [Grid]  â”‚  â¹ï¸ ğŸ”„ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚   [Game Scene]      â”‚  â”‚  â”‚  â”‚  â”‚  â”‚ [] â”‚         â”‚        â”‚ â”‚  â”‚
â”‚  â”‚  â”‚                     â”‚  â”‚  â”‚  â”‚  â”‚  â”‚    â”‚ Zoom    â”‚ Frame: â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚  â”‚  â”‚    â”‚ Pan     â”‚   5/10 â”‚ â”‚  â”‚
â”‚  â”‚                           â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        Main Monitor                        Second Monitor (Optional)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BT Debugger Window (SDL3)       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Separate ImGui Context    â”‚  â”‚  â† Can also be open simultaneously
â”‚  â”‚                            â”‚  â”‚
â”‚  â”‚  [Behavior Tree View]      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Benefits:
âœ… Animation Editor in separate window
âœ… Can move to second monitor
âœ… Independent resizing and positioning
âœ… No viewport interference
âœ… More screen space for editing
âœ… Professional multi-window application
```

## Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Olympe Engine Application                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Main Game Window     â”‚  â”‚  Animation Editor Window     â”‚   â”‚
â”‚  â”‚  (SDL_Window*)        â”‚  â”‚  (SDL_Window*)               â”‚   â”‚
â”‚  â”‚                       â”‚  â”‚                              â”‚   â”‚
â”‚  â”‚  SDL_Renderer*        â”‚  â”‚  SDL_Renderer*               â”‚   â”‚
â”‚  â”‚       â”‚               â”‚  â”‚       â”‚                      â”‚   â”‚
â”‚  â”‚       â†“               â”‚  â”‚       â†“                      â”‚   â”‚
â”‚  â”‚  Main ImGuiContext    â”‚  â”‚  Separate ImGuiContext       â”‚   â”‚
â”‚  â”‚       â”‚               â”‚  â”‚       â”‚                      â”‚   â”‚
â”‚  â”‚       â†“               â”‚  â”‚       â†“                      â”‚   â”‚
â”‚  â”‚  ImGui_ImplSDL3       â”‚  â”‚  ImGui_ImplSDL3              â”‚   â”‚
â”‚  â”‚  ImGui_ImplSDLRend3   â”‚  â”‚  ImGui_ImplSDLRend3          â”‚   â”‚
â”‚  â”‚       â”‚               â”‚  â”‚       â”‚                      â”‚   â”‚
â”‚  â”‚       â†“               â”‚  â”‚       â†“                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Blueprint Editorâ”‚  â”‚  â”‚  â”‚ Animation Editor UI    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Game Viewport   â”‚  â”‚  â”‚  â”‚ - Bank List Panel      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Panels          â”‚  â”‚  â”‚  â”‚ - Spritesheet Panel    â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚ - Sequence Panel       â”‚ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ - Preview Panel        â”‚ â”‚   â”‚
â”‚                             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”‚  BT Debugger Window   â”‚                                     â”‚
â”‚  â”‚  (SDL_Window*)        â”‚  â† Also uses separate window       â”‚
â”‚  â”‚                       â”‚                                     â”‚
â”‚  â”‚  SDL_Renderer*        â”‚                                     â”‚
â”‚  â”‚  Separate ImGuiContextâ”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Event Flow Diagram

```
          SDL Events
              â”‚
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  SDL_AppEvent()     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Animation Editor ProcessEvent()         â”‚
    â”‚  - Check if event for animation window   â”‚
    â”‚  - Handle window close (X button)        â”‚
    â”‚  - Forward to ImGui (separate context)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  BT Debugger ProcessEvent()              â”‚
    â”‚  - Check if event for BT window          â”‚
    â”‚  - Handle window close                   â”‚
    â”‚  - Forward to ImGui (separate context)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Main Window ImGui ProcessEvent()        â”‚
    â”‚  - ImGui_ImplSDL3_ProcessEvent()         â”‚
    â”‚  - Process for main window only          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Game Logic Input Handling               â”‚
    â”‚  - Only if not captured by ImGui         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Lifecycle Diagram

```
Application Start
    â”‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AnimationEditorWindow() â”‚  â† Constructor
â”‚ - Initialize members    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ User presses F9
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Toggle()                â”‚
â”‚ - Set m_isOpen = true   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CreateSeparateWindow()  â”‚
â”‚ - Create SDL_Window     â”‚
â”‚ - Create SDL_Renderer   â”‚
â”‚ - Create ImGuiContext   â”‚
â”‚ - Init ImGui backends   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SDL_ShowWindow()        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ Every Frame
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Update(deltaTime)       â”‚
â”‚ - UpdatePreview()       â”‚
â”‚ - RenderSeparateWindow()â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ User presses F9 again
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Toggle()                â”‚
â”‚ - Set m_isOpen = false  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SDL_HideWindow()        â”‚
â”‚ (Window still exists)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ User reopens (F9)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SDL_ShowWindow()        â”‚
â”‚ (Fast - already created)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ Application Quit
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ~AnimationEditorWindow()â”‚  â† Destructor
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DestroySeparateWindow() â”‚
â”‚ - Shutdown ImGui        â”‚
â”‚ - Destroy ImGuiContext  â”‚
â”‚ - Destroy Renderer      â”‚
â”‚ - Destroy Window        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ImGui Context Switching Pattern

```
Main Window Rendering                Animation Editor Rendering
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Main Context Active                  Main Context Active
      â”‚                                    â”‚
      â”‚                                    â†“
      â”‚                              Save main context
      â”‚                                    â”‚
      â”‚                                    â†“
      â”‚                              Switch to separate context
      â”‚                                    â”‚
      â”‚                                    â†“
      â”‚                              ImGui::NewFrame()
      â”‚                                    â”‚
      â”‚                                    â†“
      â”‚                              Render UI
      â”‚                                    â”‚
      â”‚                                    â†“
      â”‚                              ImGui::Render()
      â”‚                                    â”‚
      â”‚                                    â†“
      â”‚                              SDL_RenderPresent()
      â”‚                                    â”‚
      â”‚                                    â†“
      â”‚                              Restore main context
      â”‚                                    â”‚
      â†“                                    â†“
Continue with                        Main Context Active Again
main window
```

## Window Hierarchy

```
Operating System
    â”‚
    â”œâ”€â”€ Main Game Window (Always exists)
    â”‚   â”œâ”€â”€ SDL3 Window
    â”‚   â”œâ”€â”€ SDL3 Renderer
    â”‚   â”œâ”€â”€ Main ImGui Context
    â”‚   â””â”€â”€ UI Elements
    â”‚       â”œâ”€â”€ Blueprint Editor (F2)
    â”‚       â”œâ”€â”€ Game Viewport
    â”‚       â”œâ”€â”€ Panels
    â”‚       â””â”€â”€ Tiled Level Loader (F3)
    â”‚
    â”œâ”€â”€ Animation Editor Window (Created on first F9)
    â”‚   â”œâ”€â”€ SDL3 Window (1280x720)
    â”‚   â”œâ”€â”€ SDL3 Renderer
    â”‚   â”œâ”€â”€ Separate ImGui Context
    â”‚   â””â”€â”€ UI Elements
    â”‚       â”œâ”€â”€ Menu Bar
    â”‚       â”œâ”€â”€ Bank List Panel
    â”‚       â”œâ”€â”€ Spritesheet Editor Panel
    â”‚       â”œâ”€â”€ Sequence Editor Panel
    â”‚       â””â”€â”€ Preview Panel
    â”‚
    â””â”€â”€ BT Debugger Window (Created on first F10)
        â”œâ”€â”€ SDL3 Window (1200x720)
        â”œâ”€â”€ SDL3 Renderer
        â”œâ”€â”€ Separate ImGui Context
        â””â”€â”€ UI Elements
            â”œâ”€â”€ Entity List Panel
            â”œâ”€â”€ Behavior Tree View
            â””â”€â”€ Inspector Panel
```

## Memory Layout

```
AnimationEditorWindow Object
â”œâ”€â”€ m_isOpen: bool = false
â”œâ”€â”€ m_isDirty: bool = false
â”œâ”€â”€ m_currentBank: AnimationBank
â”œâ”€â”€ m_currentBankPath: string
â”œâ”€â”€ ... (other state members)
â”‚
â””â”€â”€ Standalone Window Members
    â”œâ”€â”€ m_separateWindow: SDL_Window* = nullptr
    â”‚   â””â”€â”€ Points to SDL3 window in GPU memory
    â”‚
    â”œâ”€â”€ m_separateRenderer: SDL_Renderer* = nullptr
    â”‚   â””â”€â”€ Points to SDL3 renderer context
    â”‚
    â””â”€â”€ m_separateImGuiContext: ImGuiContext* = nullptr
        â””â”€â”€ Points to separate ImGui state
            â”œâ”€â”€ Font Atlas
            â”œâ”€â”€ Style Settings
            â”œâ”€â”€ Window State
            â””â”€â”€ Input State
```

## Comparison Table

| Aspect | Before (Overlay) | After (Standalone) |
|--------|------------------|-------------------|
| Window Type | ImGui overlay in main window | Separate SDL3 window |
| ImGui Context | Shared with main window | Dedicated context |
| Screen Space | Limited (shares viewport) | Full window (resizable) |
| Multi-Monitor | âŒ Cannot move independently | âœ… Can move to second monitor |
| Input Handling | Shared with main window | Independent |
| Rendering | Within main window frame | Separate render loop |
| Performance | Affects main window | Independent |
| User Experience | Cluttered | Professional |
| Window Management | Toggle visibility flag | Create/Show/Hide/Destroy |

## Key Implementation Highlights

### 1. Context Safety
```cpp
// ALWAYS save and restore context
ImGuiContext* mainContext = ImGui::GetCurrentContext();
ImGui::SetCurrentContext(m_separateImGuiContext);
// ... work ...
ImGui::SetCurrentContext(mainContext);
```

### 2. Event Filtering
```cpp
// ALWAYS check window ID
Uint32 windowID = SDL_GetWindowID(m_separateWindow);
if (event->window.windowID == windowID) {
    // Handle event for our window
}
```

### 3. Resource Cleanup
```cpp
// ALWAYS cleanup in destructor
~AnimationEditorWindow() {
    DestroySeparateWindow();  // Free all resources
}
```

## Success Metrics

âœ… **Code Quality**: Clean implementation, follows patterns  
âœ… **Memory Safety**: Proper cleanup, no leaks  
âœ… **User Experience**: Professional multi-window interface  
âœ… **Maintainability**: Well-documented, easy to understand  
âœ… **Extensibility**: Pattern can be reused for new windows  

## Visual Mockup (Text-Based)

```
â”Œâ”€ Animation Editor - Olympe Engine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  File   Edit   View                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Banks  â”‚ Spritesheet / Sequence Editor â”‚ Preview             â”‚
â”‚        â”‚                                â”‚                     â”‚
â”‚ bank1  â”‚ â”Œâ”€ Spritesheets â”€â”¬â”€ Sequencesâ”€â”â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ bank2  â”‚ â”‚                â”‚            â”‚â”‚ â”‚   [Frame]   â”‚   â”‚
â”‚ bank3  â”‚ â”‚ hero_walk.png  â”‚  walk_left â”‚â”‚ â”‚   Preview   â”‚   â”‚
â”‚ bank4  â”‚ â”‚ - 32x32 grid   â”‚  walk_rightâ”‚â”‚ â”‚             â”‚   â”‚
â”‚ bank5  â”‚ â”‚ - 8 cols x 4   â”‚  idle      â”‚â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚        â”‚ â”‚                â”‚            â”‚â”‚ â”‚  â”‚ Spriteâ”‚  â”‚   â”‚
â”‚        â”‚ â”‚ [+ Add Sheet]  â”‚ [+ Add Seq]â”‚â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚             â”‚   â”‚
â”‚        â”‚                                â”‚ â”‚ â–¶ï¸ â¸ï¸ â¹ï¸ ğŸ”„  â”‚   â”‚
â”‚        â”‚ â”Œâ”€ Spritesheet Preview â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ Frame: 3/8  â”‚   â”‚
â”‚        â”‚ â”‚                            â”‚ â”‚ â”‚ Speed: 1.0x â”‚   â”‚
â”‚        â”‚ â”‚  [Grid with sprites]       â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚        â”‚ â”‚  Zoom: 100%                â”‚ â”‚                   â”‚
â”‚        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

This visual architecture demonstrates the clean separation between the main window and the Animation Editor standalone window, making it clear how the implementation achieves independent window management while maintaining proper context isolation.
